(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{542:(e,t,n)=>{Promise.resolve().then(n.bind(n,50264))},50264:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>q});var r=n(95155),i=n(19176),l=n(26288),a=n(67113),s=n(12115);function o(e){return(0,r.jsx)(a.N,{attribute:"class",disableTransitionOnChange:!0,...e})}function d(e){return(0,r.jsx)(i.s,{value:l.$m,children:(0,r.jsx)(o,{...e})})}function c(e){let{children:t}=e;return(0,r.jsx)(r.Fragment,{children:t})}var h=n(76046),x=n(17425),u=n(50831),p=n(740),E=n(18345),g=n(29383),j=n(35956),f=n(54416),m=n(80341),_=n(23153),b=n(30161);let T=s.forwardRef(function(e,t){let{portalled:n=!0,portalRef:i,...l}=e;return(0,r.jsx)(_.Z,{disabled:!n,container:i,children:(0,r.jsx)(b.y3,{children:(0,r.jsx)(b.rm,{ref:t,...l})})})});b.x0,b.PW;let v=b.il;b.bX;let I=b.Dr;b.e7,b.C1;let L=b.cQ;var S=n(50745),O=n(60928),C=n(21571),A=n(99827),N=n(7837),R=n(14085),y=n(24087),P=n(93881),w=n(7520);let z=(0,A.v)(()=>({isOpen:!1,fields:[]}));function F(){let{isOpen:e,title:t,fields:n,resolve:i}=z(),[l,a]=(0,s.useState)({}),{t:o}=(0,w.o)(),d=()=>{z.setState({isOpen:!1}),null==i||i(null)};return(0,r.jsx)(N.Dz,{open:e,onOpenChange:d,children:(0,r.jsx)(N.Cf,{children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault();let t=new FormData(e.currentTarget),r={},l={};if(n.forEach(e=>{var n;let i=(null===(n=t.get(e.name))||void 0===n?void 0:n.toString())||"";if(r[e.name]=i,e.validate){let t=e.validate(i);t&&(l[e.name]=t)}}),Object.keys(l).length>0){a(l);return}z.setState({isOpen:!1}),null==i||i(r)},children:[(0,r.jsx)(N.c7,{children:(0,r.jsx)(N.L3,{fontSize:"sm",color:"gray.300",children:t})}),(0,r.jsx)(N.R4,{children:n.map((e,t)=>(0,r.jsx)(y.D,{errorText:l[e.name],invalid:!!l[e.name],children:(0,r.jsx)(P.p,{name:e.name,defaultValue:e.defaultValue,placeholder:e.placeholder,type:e.type||"text",autoComplete:"off"})},t))}),(0,r.jsxs)(N.Es,{children:[(0,r.jsx)(R.$,{width:"100px",size:"sm",colorPalette:"teal",variant:"surface",onClick:d,children:o.BUTTON_CANCEL}),(0,r.jsx)(R.$,{type:"submit",width:"100px",size:"sm",colorPalette:"green",children:o.BUTTON_SUBMIT})]})]})})})}function k(e){return new Promise(t=>{z.setState({isOpen:!0,title:e.title,fields:e.fields,resolve:t})})}var D=n(65606);function B(){var e;let{profileList:t,switchProfile:n,createProfile:i,deleteProfile:l,updateProfileDetails:a}=(0,D.l)(),{t:o}=(0,w.o)(),d=(0,s.useMemo)(()=>t.items.find(e=>e.id===t.defaultId),[t]),c=(0,s.useMemo)(()=>(0,j.R)({items:t.items.map(e=>({value:e.id,label:e.name}))}),[t]),h=e=>/[!@#$%^&*()_+\[\]{}|;:'",.<>?/\\]/.test(e)?[!1,o.PROFILE_SELECT_VALIDATION_SPECIAL_CHARS]:e.length>g.EU||e.length<1?[!1,o.PROFILE_SELECT_VALIDATION_LENGTH.replace("{0}",e.length.toString())]:e===(null==d?void 0:d.name)?[!1,o.PROFILE_SELECT_VALIDATION_SAME_NAME]:t.items.find(t=>t.name===e)?[!1,o.PROFILE_SELECT_VALIDATION_EXISTS]:[!0,""],x=async e=>{if(e!==(null==d?void 0:d.id))return await n(e)},u=async()=>{let e=await k({title:o.DIALOG_RENAME_PROFILE_TITLE,fields:[{name:"profileName",label:o.PROFILE_NAME_LABEL,defaultValue:null==d?void 0:d.name,placeholder:o.PROFILE_NAME_PLACEHOLDER,validate:e=>{let[t,n]=h(e);if(!t)return n}}]});if(e){var t,n;await a(null!==(t=null==d?void 0:d.id)&&void 0!==t?t:"",{id:null!==(n=null==d?void 0:d.id)&&void 0!==n?n:"",name:e.profileName})}},p=async()=>{let e=await k({title:o.PROFILE_CREATE_DIALOG_TITLE,fields:[{name:"profileName",label:o.PROFILE_NAME_LABEL,placeholder:o.PROFILE_NAME_PLACEHOLDER,validate:e=>{let[t,n]=h(e);if(!t)return n}}]});e&&await i(e.profileName)},E=async()=>{await (0,C.X)({title:o.PROFILE_DELETE_DIALOG_TITLE,message:o.PROFILE_DELETE_CONFIRM_MESSAGE})&&await _()},_=async()=>{var e;return await l(null!==(e=null==d?void 0:d.id)&&void 0!==e?e:"")};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(f.B,{direction:"row",gap:2,alignItems:"center",children:[(0,r.jsxs)(S.H5,{size:"sm",width:"200px",collection:c,value:[null!==(e=null==d?void 0:d.id)&&void 0!==e?e:""],onValueChange:e=>x(e.value[0]),children:[(0,r.jsx)(S.bq,{children:(0,r.jsx)(S.NM,{color:"gray.300"})}),(0,r.jsx)(S.gC,{fontSize:"xs",children:c.items.map(e=>(0,r.jsx)(S.eb,{item:e,color:"gray.300",children:e.label},e.value))})]}),(0,r.jsxs)(v,{children:[(0,r.jsx)(L,{asChild:!0,children:(0,r.jsx)(m.K,{"aria-label":o.PROFILE_SELECT_MENU_BUTTON,variant:"ghost",size:"sm",children:(0,r.jsx)(O.z9i,{})})}),(0,r.jsxs)(T,{children:[(0,r.jsxs)(I,{value:"create",onClick:p,children:[(0,r.jsx)(O._rf,{}),o.PROFILE_SELECT_CREATE_BUTTON]}),(0,r.jsxs)(I,{value:"rename",onClick:u,children:[(0,r.jsx)(O.H6t,{}),o.PROFILE_SELECT_RENAME_BUTTON]}),(0,r.jsxs)(I,{value:"delete",onClick:E,children:[(0,r.jsx)(O.UJN,{}),o.PROFILE_SELECT_DELETE_BUTTON]})]})]})]})})}var M=n(86505);function G(e){let{children:t}=e,n=(0,h.useRouter)(),i=(0,h.usePathname)(),{t:l}=(0,w.o)(),a=[{label:l.SETTINGS_TAB_KEYS,path:"/keys-setting",icon:O.xjf},{label:l.SETTINGS_TAB_LEDS,path:"/leds-setting",icon:O.j1S},{label:l.SETTINGS_TAB_RAPID_TRIGGER,path:"/rapid-trigger",icon:O.oyB},{label:l.SETTINGS_TAB_HOTKEYS,path:"/hotkeys-setting",icon:O.JNI},{label:l.SETTINGS_TAB_FIRMWARE,path:"/firmware",icon:O.gLX}],s=!["/hotkeys-setting","/firmware"].includes(i),o=async e=>{await M.C.emit(e)&&n.push(e)};return(0,r.jsxs)(x.s,{direction:"column",height:"100%",flex:1,children:[(0,r.jsx)(u.pK,{defaultValue:i,value:i,size:"md",variant:"subtle",colorPalette:"green",backgroundColor:"rgba(0, 0, 0, 0.3)",borderBottom:"1px solid rgba(0, 255, 0, 0.1)",boxShadow:"0 1px 10px rgba(0, 0, 0, 0.7)",children:(0,r.jsxs)(u.j7,{justifyContent:"center",width:"100%",children:[a.map((e,t)=>(0,r.jsx)(u.Xi,{value:e.path,onClick:()=>o(e.path),width:"180px",justifyContent:"center",children:(0,r.jsxs)(p.z,{children:[(0,r.jsx)(e.icon,{size:18}),(0,r.jsx)("span",{children:e.label})]})},t)),(0,r.jsx)(u.E_,{rounded:"l2"})]})}),(0,r.jsxs)(x.s,{direction:"column",flex:1,height:"100%",children:[(0,r.jsx)(E.o,{pt:4,height:"50px",children:s&&(0,r.jsx)(B,{})}),(0,r.jsx)(E.o,{pt:4,flex:1,children:t})]})]})}var U=n(20177),H=n(35923),V=n(26679),X=n(36105);function $(e){let{isOpen:t}=e;return t?(0,r.jsx)(_.Z,{children:(0,r.jsxs)(U.a,{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",children:[(0,r.jsx)(U.a,{position:"absolute",top:0,left:0,right:0,bottom:0,bg:"blackAlpha.100",backdropFilter:"blur(4px)"}),(0,r.jsx)(U.a,{position:"relative",zIndex:1,bg:"transparent",children:(0,r.jsx)(E.o,{p:8,children:(0,r.jsx)(X.y,{color:"green.500",size:"xl"})})})]})}):null}var K=n(50263),W=n(69803);let Z="preferred_language";function J(){let{currentLanguage:e,setLanguage:t}=(0,w.o)();return(0,s.useEffect)(()=>{let e=localStorage.getItem(Z);("en"===e||"zh"===e)&&t(e)},[]),(0,s.useEffect)(()=>{localStorage.setItem(Z,e)},[e]),(0,r.jsx)(W.$,{height:"24px",fontSize:"xs",colorPalette:"green",variant:"surface",onClick:()=>t("en"===e?"zh":"en"),size:"sm",children:"en"===e?"中文":"English"})}function Y(e){let{children:t}=e,{isLoading:n}=(0,D.l)(),[i,l]=(0,s.useState)(!1),{error:a}=(0,D.l)();return(0,s.useEffect)(()=>{a&&V.X.error({title:"Error",description:a})},[a]),(0,s.useEffect)(()=>{let e;return n?l(!0):e=setTimeout(()=>{l(!1)},300),()=>{e&&clearTimeout(e)}},[n]),(0,r.jsxs)(x.s,{direction:"column",height:"100vh",width:"100vw",background:"linear-gradient(135deg, rgba(0, 0, 0, 0.95) 0%, rgba(0, 0, 0, 0.85) 100%),   radial-gradient(circle at 0% 0%, rgba(0, 210, 255, 0.15) 0%, transparent 50%),   radial-gradient(circle at 100% 0%, rgba(0, 255, 150, 0.1) 0%, transparent 50%),   radial-gradient(circle at 100% 100%, rgba(0, 180, 255, 0.15) 0%, transparent 50%),   radial-gradient(circle at 0% 100%, rgba(0, 210, 255, 0.1) 0%, transparent 50%),   linear-gradient(180deg, rgba(0, 0, 0, 0.9) 0%, rgba(0, 0, 0, 0.95) 100%)",position:"relative",overflow:"auto",children:[(0,r.jsx)(U.a,{position:"fixed",top:"5.5px",right:4,zIndex:2,children:(0,r.jsx)(J,{})}),(0,r.jsx)(U.a,{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none",background:"repeating-linear-gradient(90deg,    rgba(0, 210, 255, 0.03) 0px,    transparent 1px,    transparent 60px   ),   repeating-linear-gradient(180deg,    rgba(0, 210, 255, 0.03) 0px,    transparent 1px,    transparent 60px   )",zIndex:0,opacity:.35}),(0,r.jsx)(U.a,{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none",background:"radial-gradient(   circle at 50% 50%,   rgba(0, 210, 255, 0.1) 0%,   rgba(0, 180, 255, 0.06) 25%,   rgba(0, 150, 255, 0.03) 50%,   transparent 70%   )",zIndex:0,backdropFilter:"blur(90px)"}),(0,r.jsxs)(x.s,{direction:"column",height:"100%",zIndex:1,children:[(0,r.jsx)(G,{children:t}),(0,r.jsx)(E.o,{as:"footer",height:"40px",borderTop:"1px solid",borderColor:"rgba(0, 150, 255, 0.15)",children:(0,r.jsx)(H.E,{fontSize:"sm",color:"gray.500",children:"\xa9 2024 Hitbox Web Config. All rights reserved."})})]}),(0,r.jsx)(V.l,{}),(0,r.jsx)($,{isOpen:i})]})}function q(e){let{children:t}=e;return(0,r.jsx)("html",{suppressHydrationWarning:!0,style:{height:"100%"},children:(0,r.jsx)("body",{style:{height:"100vh",margin:0},children:(0,r.jsx)(c,{children:(0,r.jsx)(d,{children:(0,r.jsx)(D.f,{children:(0,r.jsxs)(w.I,{children:[(0,r.jsx)(Y,{children:t}),(0,r.jsx)(C.Z,{}),(0,r.jsx)(F,{}),(0,r.jsx)(K.sA,{})]})})})})})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[852,96,223,358],()=>t(542)),_N_E=e.O()}]);