(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[162],{29216:(e,n,i)=>{Promise.resolve().then(i.bind(i,25263))},25263:(e,n,i)=>{"use strict";i.r(n),i.d(n,{default:()=>b});var l=i(95155),t=i(17425),r=i(18345),s=i(27703),o=i(54416),d=i(35923),a=i(740),c=i(69803),_=i(56404),u=i(11030),E=i(9246),S=i(29383),x=i(24087),T=i(44555),h=i(20177),g=i(7520);function I(e){let{t:n}=(0,g.o)(),{value:i,changeValue:t,label:r,isActive:s,onClick:o}=e,c=e=>{s&&t(i.filter(n=>n!==e))};return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(x.D,{onClick:o,children:[(0,l.jsx)(d.E,{fontSize:"xs",color:s?"green.500":"gray.400",children:"[ ".concat(r," ]")}),(0,l.jsx)(h.a,{width:"220px",height:"28px",padding:"4px",border:"1px solid",borderColor:s?"green.500":"gray.800",borderRadius:"4px",cursor:"pointer",children:(0,l.jsx)(a.z,{gap:1,children:i.map((e,i)=>(0,l.jsx)(T.v,{closable:s,colorPalette:s?"green":"gray",onClick:()=>c(e),children:"".concat(n.KEY_MAPPING_KEY_PREFIX).concat(e+1)},i))})})]})})}var v=i(26679),p=i(12115);function O(e){let{inputMode:n,inputKey:i,keyMapping:t,autoSwitch:r,changeKeyMappingHandler:s}=e,{t:o}=(0,g.o)(),[d,a]=(0,p.useState)(S.d9[0]);(0,p.useEffect)(()=>{if(i>=0){var e,n;let l=null!==(e=t[d])&&void 0!==e?e:[];if(-1!==l.indexOf(i)){v.X.create({title:o.KEY_MAPPING_ERROR_ALREADY_BINDED_TITLE,description:o.KEY_MAPPING_ERROR_ALREADY_BINDED_DESC,type:"error"});return}if(l.length>=S.d){v.X.create({title:o.KEY_MAPPING_ERROR_MAX_KEYS_TITLE,description:o.KEY_MAPPING_ERROR_MAX_KEYS_DESC,type:"error"});return}Object.entries(t).forEach(e=>{let[n,l]=e;if(n!==d&&-1!==l.indexOf(i)){var t,r;l.splice(l.indexOf(i),1),s(n,l),v.X.create({title:o.KEY_MAPPING_INFO_UNBIND_FROM_OTHER_TITLE,description:o.KEY_MAPPING_INFO_UNBIND_FROM_OTHER_DESC.replace("{0}",null!==(t=c.get(n))&&void 0!==t?t:"").replace("{1}",null!==(r=c.get(d))&&void 0!==r?r:""),type:"info"})}}),l.push(i),s(d,l),r&&a(null!==(n=S.d9[S.d9.indexOf(d)+1])&&void 0!==n?n:S.d9[0])}},[i]);let c=(0,p.useMemo)(()=>{switch(n){case S.OD.XINPUT:return S.Vu;case S.OD.PS4:return S.Aw;case S.OD.SWITCH:return S.b7;default:return new Map}},[n]);return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(u.r,{gap:1,columns:3,children:S.d9.map((e,n)=>{var i,r;return(0,l.jsx)(I,{onClick:()=>a(e),label:null!==(i=c.get(e))&&void 0!==i?i:"",value:null!==(r=t[e])&&void 0!==r?r:[],changeValue:n=>s(e,n),isActive:d===e},n)})})})}var j=i(72581),f=i(93177),N=i(28545),P=i(11889);let A=p.forwardRef(function(e,n){let{items:i,...t}=e,r=p.useMemo(()=>i.map(e=>"string"==typeof e?{value:e,label:e}:e),[i]);return(0,l.jsxs)(N.V_,{ref:n,...t,children:[(0,l.jsx)(N.Wn,{}),(0,l.jsx)(P.a,{each:r,children:e=>(0,l.jsxs)(N.yf,{value:e.value,disabled:e.disabled,children:[(0,l.jsx)(N.xo,{children:e.label}),(0,l.jsx)(N.eH,{})]},e.value)})]})});var C=i(60462),M=i(60928),R=i(61377),D=i(23153);let G=p.forwardRef(function(e,n){let{showArrow:i,children:t,portalled:r=!0,content:s,portalRef:o,...a}=e;return(0,l.jsxs)(R.yt,{...a,positioning:{...a.positioning,gutter:4},children:[(0,l.jsx)(R.Wv,{asChild:!0,children:t}),(0,l.jsx)(D.Z,{disabled:!r,container:o,children:(0,l.jsx)(R.Ug,{children:(0,l.jsxs)(R.hl,{width:"auto",px:"2",py:"1",textStyle:"xs",rounded:"sm",ref:n,padding:"3",children:[i&&(0,l.jsx)(R.Rp,{children:(0,l.jsx)(R.A5,{})}),null==s?void 0:s.toString().split("\\n").map((e,n)=>(0,l.jsxs)(p.Fragment,{children:[(0,l.jsx)(d.E,{lineHeight:".5",children:e}),n!==(null==s?void 0:s.toString().split("\\n").length)-1&&(0,l.jsx)("br",{})]},n))]})})})]})});var L=i(65606),Y=i(48005),y=i(50263),m=i(21571);function K(){var e,n;let{defaultProfile:i,updateProfileDetails:x,resetProfileDetails:T,rebootSystem:h}=(0,L.l)(),[I,v]=(0,Y.A)(),{t:N}=(0,g.o)(),[P,R]=(0,p.useState)(S.OD.XINPUT),[D,K]=(0,p.useState)(S.ts.SOCD_MODE_UP_PRIORITY),[b,k]=(0,p.useState)(!1),[w,U]=(0,p.useState)(!1),[B,X]=(0,p.useState)(!1),[z,H]=(0,p.useState)({}),[F,W]=(0,p.useState)(!0),[V,Q]=(0,p.useState)(-1);(0,p.useEffect)(()=>{var e,n,l,t,r,s,o,d,a,c,_,u;R(null!==(o=null===(e=i.keysConfig)||void 0===e?void 0:e.inputMode)&&void 0!==o?o:S.OD.XINPUT),K(null!==(d=null===(n=i.keysConfig)||void 0===n?void 0:n.socdMode)&&void 0!==d?d:S.ts.SOCD_MODE_UP_PRIORITY),k(null!==(a=null===(l=i.keysConfig)||void 0===l?void 0:l.invertXAxis)&&void 0!==a&&a),U(null!==(c=null===(t=i.keysConfig)||void 0===t?void 0:t.invertYAxis)&&void 0!==c&&c),X(null!==(_=null===(r=i.keysConfig)||void 0===r?void 0:r.fourWayMode)&&void 0!==_&&_),H(null!==(u=null===(s=i.keysConfig)||void 0===s?void 0:s.keyMapping)&&void 0!==u?u:{}),null==v||v(!1)},[i]);let Z=(e,n)=>{H({...z,[e]:n})},$=()=>{let e={id:i.id,keysConfig:{invertXAxis:b,invertYAxis:w,fourWayMode:B,socdMode:D,inputMode:P,keyMapping:z}};x(i.id,e)};return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(t.s,{direction:"row",width:"1700px",padding:"18px",children:[(0,l.jsx)(r.o,{flex:1,children:(0,l.jsx)(C.A,{onClick:e=>{Q(e)},interactiveIds:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]})}),(0,l.jsx)(r.o,{width:"700px",children:(0,l.jsx)(s.Rs,{children:(0,l.jsxs)(o.B,{direction:"column",gap:4,children:[(0,l.jsx)(s.u4,{fontSize:"2rem",color:"green.600",children:N.SETTINGS_KEYS_TITLE}),(0,l.jsx)(s.yR,{fontSize:"smaller",color:"gray.400",children:(0,l.jsx)(d.E,{whiteSpace:"pre-wrap",children:N.SETTINGS_KEYS_HELPER_TEXT})}),(0,l.jsxs)(s.CZ,{position:"relative",paddingTop:"30px",children:[(0,l.jsxs)(o.B,{direction:"column",gap:6,children:[(0,l.jsx)(s.u4,{fontSize:"md",children:N.SETTINGS_KEYS_MAPPING_TITLE}),(0,l.jsxs)(a.z,{gap:1,children:[(0,l.jsx)(A,{size:"xs",defaultValue:F?N.SETTINGS_KEY_MAPPING_AUTO_SWITCH_LABEL:N.SETTINGS_KEY_MAPPING_MANUAL_SWITCH_LABEL,items:[N.SETTINGS_KEY_MAPPING_AUTO_SWITCH_LABEL,N.SETTINGS_KEY_MAPPING_MANUAL_SWITCH_LABEL],onValueChange:e=>W(e.value===N.SETTINGS_KEY_MAPPING_AUTO_SWITCH_LABEL)}),(0,l.jsx)(G,{content:N.TOOLTIP_AUTO_SWITCH,children:(0,l.jsx)(c.$,{size:"xs",variant:"ghost",children:(0,l.jsx)(M.MO8,{})})})]}),(0,l.jsx)(O,{autoSwitch:F,inputKey:V,inputMode:P,keyMapping:z,changeKeyMappingHandler:(e,n)=>{Z(e,n),null==v||v(!0)}})]}),(0,l.jsxs)(f.Q,{colorPalette:"green",size:"sm",variant:"subtle",value:null!==(e=null==P?void 0:P.toString())&&void 0!==e?e:S.OD.XINPUT.toString(),onValueChange:e=>{R(e.value),null==v||v(!0)},children:[(0,l.jsx)(_.Qr,{children:N.SETTINGS_KEYS_INPUT_MODE_TITLE}),(0,l.jsx)(u.r,{gap:1,columns:5,children:S.Qy.map((e,n)=>{var i,t;return(0,l.jsx)(E.m,{content:N.SETTINGS_KEYS_PLATFORM_MODE_TOOLTIP,children:(0,l.jsx)(f.bd,{fontSize:"xs",indicator:!1,value:e.toString(),label:null!==(t=null===(i=S.Es.get(e))||void 0===i?void 0:i.label)&&void 0!==t?t:""},n)},n)})})]}),(0,l.jsxs)(f.Q,{colorPalette:"green",size:"sm",variant:"subtle",value:null!==(n=null==D?void 0:D.toString())&&void 0!==n?n:S.ts.SOCD_MODE_UP_PRIORITY.toString(),onValueChange:e=>{K(e.value),null==v||v(!0)},children:[(0,l.jsx)(_.Qr,{children:N.SETTINGS_KEYS_SOCD_MODE_TITLE}),(0,l.jsx)(u.r,{gap:1,columns:5,children:S.ZG.map((e,n)=>{var i,t;return(0,l.jsx)(E.m,{content:N.SETTINGS_KEYS_SOCD_MODE_TOOLTIP,children:(0,l.jsx)(f.bd,{fontSize:"xs",indicator:!1,value:e.toString(),label:null!==(t=null===(i=S.ZK.get(e))||void 0===i?void 0:i.label)&&void 0!==t?t:""},n)},n)})})]}),(0,l.jsxs)(a.z,{gap:5,children:[(0,l.jsx)(j.d,{colorPalette:"green",checked:b,onChange:()=>{k(!b),null==v||v(!0)},children:N.SETTINGS_KEYS_INVERT_X_AXIS}),(0,l.jsx)(j.d,{colorPalette:"green",checked:w,onChange:()=>{U(!w),null==v||v(!0)},children:N.SETTINGS_KEYS_INVERT_Y_AXIS})]})]}),(0,l.jsxs)(o.B,{direction:"row",gap:4,justifyContent:"flex-start",padding:"32px 0px",children:[(0,l.jsx)(c.$,{colorPalette:"teal",variant:"surface",size:"lg",width:"140px",onClick:T,children:N.BUTTON_RESET}),(0,l.jsx)(c.$,{colorPalette:"green",size:"lg",width:"140px",onClick:$,children:N.BUTTON_SAVE}),(0,l.jsx)(c.$,{colorPalette:"blue",variant:"surface",size:"lg",width:"180px",onClick:async()=>{await (0,m.X)({title:N.DIALOG_REBOOT_CONFIRM_TITLE,message:N.DIALOG_REBOOT_CONFIRM_MESSAGE})&&(await $(),await h(),(0,y.Dh)({title:N.DIALOG_REBOOT_SUCCESS_TITLE,status:"success",message:N.DIALOG_REBOOT_SUCCESS_MESSAGE}))},children:N.BUTTON_REBOOT_WITH_SAVING})]})]})})})]})})}function b(){return(0,l.jsx)(K,{})}}},e=>{var n=n=>e(e.s=n);e.O(0,[852,96,223,358],()=>n(29216)),_N_E=e.O()}]);