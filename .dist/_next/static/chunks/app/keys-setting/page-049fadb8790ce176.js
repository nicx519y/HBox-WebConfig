(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[162],{9216:(e,n,i)=>{Promise.resolve().then(i.bind(i,5263))},5263:(e,n,i)=>{"use strict";i.r(n),i.d(n,{default:()=>w});var l=i(5155),r=i(7425),t=i(8345),s=i(894),d=i(4416),o=i(5923),a=i(8359),c=i(9803),u=i(4836),x=i(1030),_=i(9246),h=i(9383),E=i(4087),j=i(4555),S=i(177),T=i(7520);function v(e){let{t:n}=(0,T.o)(),{value:i,changeValue:r,label:t,isActive:s,onClick:d}=e,c=e=>{s&&r(i.filter(n=>n!==e))};return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(E.D,{onClick:d,children:[(0,l.jsx)(o.E,{fontSize:"xs",color:s?"green.500":"gray.400",children:"[ ".concat(t," ]")}),(0,l.jsx)(S.a,{width:"220px",height:"28px",padding:"4px",border:"1px solid",borderColor:s?"green.500":"gray.800",borderRadius:"4px",cursor:"pointer",children:(0,l.jsx)(a.z,{gap:1,children:i.map((e,i)=>(0,l.jsx)(j.v,{closable:s,colorPalette:s?"green":"gray",onClick:()=>c(e),children:"".concat(n.KEY_MAPPING_KEY_PREFIX).concat(e+1)},i))})})]})})}var p=i(6679),g=i(2115);function I(e){let{inputMode:n,inputKey:i,keyMapping:r,autoSwitch:t,changeKeyMappingHandler:s}=e,{t:d}=(0,T.o)(),[o,a]=(0,g.useState)(h.d9[0]);(0,g.useEffect)(()=>{if(i>=0){var e,n;let l=null!==(e=r[o])&&void 0!==e?e:[];if(-1!==l.indexOf(i)){p.X.create({title:d.KEY_MAPPING_ERROR_ALREADY_BINDED_TITLE,description:d.KEY_MAPPING_ERROR_ALREADY_BINDED_DESC,type:"error"});return}if(l.length>=h.d){p.X.create({title:d.KEY_MAPPING_ERROR_MAX_KEYS_TITLE,description:d.KEY_MAPPING_ERROR_MAX_KEYS_DESC,type:"error"});return}Object.entries(r).forEach(e=>{let[n,l]=e;if(n!==o&&-1!==l.indexOf(i)){var r,t;l.splice(l.indexOf(i),1),s(n,l),p.X.create({title:d.KEY_MAPPING_INFO_UNBIND_FROM_OTHER_TITLE,description:d.KEY_MAPPING_INFO_UNBIND_FROM_OTHER_DESC.replace("{0}",null!==(r=c.get(n))&&void 0!==r?r:"").replace("{1}",null!==(t=c.get(o))&&void 0!==t?t:""),type:"info"})}}),l.push(i),s(o,l),t&&a(null!==(n=h.d9[h.d9.indexOf(o)+1])&&void 0!==n?n:h.d9[0])}},[i]);let c=(0,g.useMemo)(()=>{switch(n){case h.OD.XINPUT:return h.Vu;case h.OD.PS4:return h.Aw;case h.OD.SWITCH:return h.b7;default:return new Map}},[n]);return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(x.r,{gap:1,columns:3,children:h.d9.map((e,n)=>{var i,t;return(0,l.jsx)(v,{onClick:()=>a(e),label:null!==(i=c.get(e))&&void 0!==i?i:"",value:null!==(t=r[e])&&void 0!==t?t:[],changeValue:n=>s(e,n),isActive:o===e},n)})})})}var f=i(2581),O=i(3177),P=i(3600),N=i(1889);let A=g.forwardRef(function(e,n){let{items:i,...r}=e,t=g.useMemo(()=>i.map(e=>"string"==typeof e?{value:e,label:e}:e),[i]);return(0,l.jsxs)(P.V_,{ref:n,...r,children:[(0,l.jsx)(P.Wn,{}),(0,l.jsx)(N.a,{each:t,children:e=>(0,l.jsxs)(P.yf,{value:e.value,disabled:e.disabled,children:[(0,l.jsx)(P.xo,{children:e.label}),(0,l.jsx)(P.eH,{})]},e.value)})]})});var C=i(462),R=i(2950),M=i(6878),m=i(3153);let D=g.forwardRef(function(e,n){let{showArrow:i,children:r,portalled:t=!0,content:s,portalRef:d,...a}=e;return(0,l.jsxs)(M.yt,{...a,positioning:{...a.positioning,gutter:4},children:[(0,l.jsx)(M.Wv,{asChild:!0,children:r}),(0,l.jsx)(m.Z,{disabled:!t,container:d,children:(0,l.jsx)(M.Ug,{children:(0,l.jsxs)(M.hl,{width:"auto",px:"2",py:"1",textStyle:"xs",rounded:"sm",ref:n,padding:"3",children:[i&&(0,l.jsx)(M.Rp,{children:(0,l.jsx)(M.A5,{})}),null==s?void 0:s.toString().split("\\n").map((e,n)=>(0,l.jsxs)(g.Fragment,{children:[(0,l.jsx)(o.E,{lineHeight:".5",children:e}),n!==(null==s?void 0:s.toString().split("\\n").length)-1&&(0,l.jsx)("br",{})]},n))]})})})]})});var G=i(5606),L=i(8005),b=i(263),y=i(1571);function Y(){var e,n;let{defaultProfile:i,updateProfileDetails:E,resetProfileDetails:j,rebootSystem:S}=(0,G.l)(),[v,p]=(0,L.A)(),{t:P}=(0,T.o)(),[N,M]=(0,g.useState)(h.OD.XINPUT),[m,Y]=(0,g.useState)(h.ts.SOCD_MODE_UP_PRIORITY),[w,k]=(0,g.useState)(!1),[K,U]=(0,g.useState)(!1),[B,X]=(0,g.useState)(!1),[z,H]=(0,g.useState)({}),[F,W]=(0,g.useState)(!0),[V,Q]=(0,g.useState)(-1);(0,g.useEffect)(()=>{var e,n,l,r,t,s,d,o,a,c,u,x;M(null!==(d=null===(e=i.keysConfig)||void 0===e?void 0:e.inputMode)&&void 0!==d?d:h.OD.XINPUT),Y(null!==(o=null===(n=i.keysConfig)||void 0===n?void 0:n.socdMode)&&void 0!==o?o:h.ts.SOCD_MODE_UP_PRIORITY),k(null!==(a=null===(l=i.keysConfig)||void 0===l?void 0:l.invertXAxis)&&void 0!==a&&a),U(null!==(c=null===(r=i.keysConfig)||void 0===r?void 0:r.invertYAxis)&&void 0!==c&&c),X(null!==(u=null===(t=i.keysConfig)||void 0===t?void 0:t.fourWayMode)&&void 0!==u&&u),H(null!==(x=null===(s=i.keysConfig)||void 0===s?void 0:s.keyMapping)&&void 0!==x?x:{}),null==p||p(!1)},[i]);let Z=(e,n)=>{H({...z,[e]:n})},$=()=>{let e={id:i.id,keysConfig:{invertXAxis:w,invertYAxis:K,fourWayMode:B,socdMode:m,inputMode:N,keyMapping:z}};E(i.id,e)};return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(r.s,{direction:"row",width:"1700px",padding:"18px",children:[(0,l.jsx)(t.o,{flex:1,children:(0,l.jsx)(C.A,{onClick:e=>{Q(e)},interactiveIds:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]})}),(0,l.jsx)(t.o,{width:"700px",children:(0,l.jsx)(s.Rs,{children:(0,l.jsxs)(d.B,{direction:"column",gap:4,children:[(0,l.jsx)(s.u4,{fontSize:"2rem",color:"green.600",children:P.SETTINGS_KEYS_TITLE}),(0,l.jsx)(s.yR,{fontSize:"smaller",color:"gray.400",children:(0,l.jsx)(o.E,{whiteSpace:"pre-wrap",children:P.SETTINGS_KEYS_HELPER_TEXT})}),(0,l.jsxs)(s.CZ,{position:"relative",paddingTop:"30px",children:[(0,l.jsxs)(d.B,{direction:"column",gap:6,children:[(0,l.jsx)(s.u4,{fontSize:"md",children:P.SETTINGS_KEYS_MAPPING_TITLE}),(0,l.jsxs)(a.z,{gap:1,children:[(0,l.jsx)(A,{size:"xs",defaultValue:F?P.SETTINGS_KEY_MAPPING_AUTO_SWITCH_LABEL:P.SETTINGS_KEY_MAPPING_MANUAL_SWITCH_LABEL,items:[P.SETTINGS_KEY_MAPPING_AUTO_SWITCH_LABEL,P.SETTINGS_KEY_MAPPING_MANUAL_SWITCH_LABEL],onValueChange:e=>W(e.value===P.SETTINGS_KEY_MAPPING_AUTO_SWITCH_LABEL)}),(0,l.jsx)(D,{content:P.TOOLTIP_AUTO_SWITCH,children:(0,l.jsx)(c.$,{size:"xs",variant:"ghost",children:(0,l.jsx)(R.MO8,{})})})]}),(0,l.jsx)(I,{autoSwitch:F,inputKey:V,inputMode:N,keyMapping:z,changeKeyMappingHandler:(e,n)=>{Z(e,n),null==p||p(!0)}})]}),(0,l.jsxs)(O.Q,{colorPalette:"green",size:"sm",variant:"subtle",value:null!==(e=null==N?void 0:N.toString())&&void 0!==e?e:h.OD.XINPUT.toString(),onValueChange:e=>{M(e.value),null==p||p(!0)},children:[(0,l.jsx)(u.Qr,{children:P.SETTINGS_KEYS_INPUT_MODE_TITLE}),(0,l.jsx)(x.r,{gap:1,columns:5,children:h.Qy.map((e,n)=>{var i,r;return(0,l.jsx)(_.m,{content:P.SETTINGS_KEYS_PLATFORM_MODE_TOOLTIP,children:(0,l.jsx)(O.bd,{fontSize:"xs",indicator:!1,value:e.toString(),label:null!==(r=null===(i=h.Es.get(e))||void 0===i?void 0:i.label)&&void 0!==r?r:""},n)},n)})})]}),(0,l.jsxs)(O.Q,{colorPalette:"green",size:"sm",variant:"subtle",value:null!==(n=null==m?void 0:m.toString())&&void 0!==n?n:h.ts.SOCD_MODE_UP_PRIORITY.toString(),onValueChange:e=>{Y(e.value),null==p||p(!0)},children:[(0,l.jsx)(u.Qr,{children:P.SETTINGS_KEYS_SOCD_MODE_TITLE}),(0,l.jsx)(x.r,{gap:1,columns:5,children:h.ZG.map((e,n)=>{var i,r;return(0,l.jsx)(_.m,{content:P.SETTINGS_KEYS_SOCD_MODE_TOOLTIP,children:(0,l.jsx)(O.bd,{fontSize:"xs",indicator:!1,value:e.toString(),label:null!==(r=null===(i=h.ZK.get(e))||void 0===i?void 0:i.label)&&void 0!==r?r:""},n)},n)})})]}),(0,l.jsxs)(a.z,{gap:5,children:[(0,l.jsx)(f.d,{colorPalette:"green",checked:w,onChange:()=>{k(!w),null==p||p(!0)},children:P.SETTINGS_KEYS_INVERT_X_AXIS}),(0,l.jsx)(f.d,{colorPalette:"green",checked:K,onChange:()=>{U(!K),null==p||p(!0)},children:P.SETTINGS_KEYS_INVERT_Y_AXIS})]})]}),(0,l.jsxs)(d.B,{direction:"row",gap:4,justifyContent:"flex-start",padding:"32px 0px",children:[(0,l.jsx)(c.$,{colorPalette:"teal",variant:"surface",size:"lg",width:"140px",onClick:j,children:P.BUTTON_RESET}),(0,l.jsx)(c.$,{colorPalette:"green",size:"lg",width:"140px",onClick:$,children:P.BUTTON_SAVE}),(0,l.jsx)(c.$,{colorPalette:"blue",variant:"surface",size:"lg",width:"180px",onClick:async()=>{await (0,y.X)({title:P.DIALOG_REBOOT_CONFIRM_TITLE,message:P.DIALOG_REBOOT_CONFIRM_MESSAGE})&&(await $(),await S(),(0,b.Dh)({title:P.DIALOG_REBOOT_SUCCESS_TITLE,status:"success",message:P.DIALOG_REBOOT_SUCCESS_MESSAGE}))},children:P.BUTTON_REBOOT_WITH_SAVING})]})]})})})]})})}function w(){return(0,l.jsx)(Y,{})}},4087:(e,n,i)=>{"use strict";i.d(n,{D:()=>t});var l=i(5155),r=i(3374);let t=i(2115).forwardRef(function(e,n){let{label:i,children:t,helperText:s,errorText:d,optionalText:o,...a}=e;return(0,l.jsxs)(r.XO,{ref:n,...a,children:[i&&(0,l.jsxs)(r.dh,{children:[i,(0,l.jsx)(r.tR,{fallback:o})]}),t,s&&(0,l.jsx)(r.sp,{children:s}),d&&(0,l.jsx)(r.wp,{children:d})]})})},3177:(e,n,i)=>{"use strict";i.d(n,{Q:()=>d,bd:()=>s});var l=i(5155),r=i(4836),t=i(2115);let s=t.forwardRef(function(e,n){let{inputProps:i,label:s,description:d,addon:o,icon:a,indicator:c=(0,l.jsx)(r.yn,{}),indicatorPlacement:u="end",...x}=e,_=s||d||a,h=c?r.Y4:t.Fragment;return(0,l.jsxs)(r.bd,{...x,children:[(0,l.jsx)(r.pR,{ref:n,...i}),(0,l.jsxs)(r.aL,{children:["start"===u&&c,_&&(0,l.jsxs)(h,{children:[a,s&&(0,l.jsx)(r.WX,{children:s}),d&&(0,l.jsx)(r.HL,{children:d}),"inside"===u&&c]}),"end"===u&&c]}),o&&(0,l.jsx)(r.$f,{children:o})]})}),d=r.Q;r.Qr,r.yn},4555:(e,n,i)=>{"use strict";i.d(n,{v:()=>t});var l=i(5155),r=i(3509);let t=i(2115).forwardRef(function(e,n){let{startElement:i,endElement:t,onClose:s,closable:d=!!s,children:o,...a}=e;return(0,l.jsxs)(r.f8,{ref:n,...a,children:[i&&(0,l.jsx)(r.FV,{children:i}),(0,l.jsx)(r.d1,{children:o}),t&&(0,l.jsx)(r.Cs,{children:t}),d&&(0,l.jsx)(r.Cs,{children:(0,l.jsx)(r.TG,{onClick:s})})]})})},6679:(e,n,i)=>{"use strict";i.d(n,{X:()=>a,l:()=>c});var l=i(5155),r=i(8453),t=i(3153),s=i(4298),d=i(6105),o=i(4416);let a=(0,r.j)({placement:"top",pauseOnPageIdle:!0,duration:3e3}),c=()=>(0,l.jsx)(t.Z,{children:(0,l.jsx)(s.l$,{toaster:a,insetInline:{mdDown:"4"},children:e=>{var n;return(0,l.jsxs)(s.mk,{width:{md:"sm"},children:["loading"===e.type?(0,l.jsx)(d.y,{size:"sm",color:"blue.solid"}):(0,l.jsx)(s.Lv,{}),(0,l.jsxs)(o.B,{gap:"1",flex:"1",maxWidth:"100%",children:[e.title&&(0,l.jsx)(s.Sb,{children:e.title}),e.description&&(0,l.jsx)(s.aD,{children:e.description})]}),e.action&&(0,l.jsx)(s.gC,{children:e.action.label}),(null===(n=e.meta)||void 0===n?void 0:n.closable)&&(0,l.jsx)(s.k1,{})]})}})})},9246:(e,n,i)=>{"use strict";i.d(n,{m:()=>s});var l=i(5155),r=i(8197),t=i(3153);let s=i(2115).forwardRef(function(e,n){let{showArrow:i,children:s,disabled:d,portalled:o,content:a,contentProps:c,portalRef:u,...x}=e;return d?s:(0,l.jsxs)(r.sb,{...x,children:[(0,l.jsx)(r.k$,{asChild:!0,children:s}),(0,l.jsx)(t.Z,{disabled:!o,container:u,children:(0,l.jsx)(r.ol,{children:(0,l.jsxs)(r.ZI,{ref:n,...c,children:[i&&(0,l.jsx)(r.PR,{children:(0,l.jsx)(r.Mo,{})}),a]})})})]})})}},e=>{var n=n=>e(e.s=n);e.O(0,[150,899,347,448,427,406,658,543,586,512,441,517,358],()=>n(9216)),_N_E=e.O()}]);