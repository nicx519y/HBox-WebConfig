(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[715],{5475:(e,r,i)=>{Promise.resolve().then(i.bind(i,22256))},22256:(e,r,i)=>{"use strict";i.r(r),i.d(r,{default:()=>v});var l=i(95155),n=i(17425),t=i(18345),s=i(27703),a=i(54416),o=i(35923),c=i(69803),d=i(12115),E=i(29383),_=i(60462),T=i(35956),x=i(740),u=i(7520),O=i(50745),h=i(44555);function S(e){var r;let{t:i}=(0,u.o)(),{index:t,value:s,onValueChange:a,isActive:c,disabled:_,onFieldClick:S}=e,j=e=>{switch(e){case E.jx.None:return i.HOTKEY_ACTION_NONE;case E.jx.WebConfigMode:return i.HOTKEY_ACTION_WEB_CONFIG;case E.jx.LedsEnableSwitch:return i.HOTKEY_ACTION_LEDS_ENABLE;case E.jx.LedsEffectStyleNext:return i.HOTKEY_ACTION_LEDS_EFFECT_NEXT;case E.jx.LedsEffectStylePrev:return i.HOTKEY_ACTION_LEDS_EFFECT_PREV;case E.jx.LedsBrightnessUp:return i.HOTKEY_ACTION_LEDS_BRIGHTNESS_UP;case E.jx.LedsBrightnessDown:return i.HOTKEY_ACTION_LEDS_BRIGHTNESS_DOWN;case E.jx.CalibrationMode:return i.HOTKEY_ACTION_CALIBRATION_MODE;case E.jx.XInputMode:return i.HOTKEY_ACTION_XINPUT_MODE;case E.jx.PS4Mode:return i.HOTKEY_ACTION_PS4_MODE;case E.jx.NSwitchMode:return i.HOTKEY_ACTION_NSWITCH_MODE;case E.jx.SystemReboot:return i.HOTKEY_ACTION_SYSTEM_REBOOT;default:return e}},C=(0,d.useMemo)(()=>(0,T.R)({items:E.tU.map(e=>({value:e,label:j(e)}))}),[i]),N=()=>{a({...s,key:-1})};return(0,l.jsxs)(n.s,{padding:"2px",width:"450px",children:[(0,l.jsxs)(x.z,{width:"130px",pl:"2",pr:"2",flex:1,border:"1px solid",borderColor:c?"green.400":"gray.800",borderRadius:"sm",mr:"1",cursor:_?"not-allowed":"pointer",onClick:()=>!_&&(null==S?void 0:S(t)),opacity:_?.7:1,children:[(0,l.jsx)(h.v,{colorPalette:c?"green":"gray",children:"Fn"}),(0,l.jsx)(o.E,{children:" + "}),void 0!==s.key&&s.key>=0&&(0,l.jsx)(h.v,{closable:c,colorPalette:c?"green":"gray",onClick:()=>!_&&c&&N(),children:"KEY-".concat(s.key+1)})]}),(0,l.jsxs)(O.H5,{variant:"subtle",size:"sm",collection:C,value:[null!==(r=s.action)&&void 0!==r?r:E.jx.None],onValueChange:e=>a({...s,action:e.value[0]}),width:"240px",disabled:_,children:[(0,l.jsx)(O.bq,{children:(0,l.jsx)(O.NM,{placeholder:E.Lk.SELECT_VALUE_TEXT_PLACEHOLDER,color:"gray.300"})}),(0,l.jsx)(O.gC,{fontSize:"xs",children:C.items.map(e=>(0,l.jsx)(O.eb,{item:e,color:"gray.300",children:e.label},e.value))})]})]})}var j=i(26679),C=i(65606),N=i(48005),p=i(50263),I=i(21571);function A(){let{t:e}=(0,u.o)(),{hotkeysConfig:r,updateHotkeysConfig:i,fetchHotkeysConfig:T,rebootSystem:x}=(0,C.l)(),[O,h]=(0,N.A)(),[A,v]=(0,d.useState)([]),[L,f]=(0,d.useState)(0);(0,d.useEffect)(()=>{v(Array.from({length:E.W4},(e,i)=>{var l;return null!==(l=null==r?void 0:r[i])&&void 0!==l?l:{key:-1,action:E.jx.None,isLocked:!1}})),null==h||h(!1)},[r]),(0,d.useMemo)(()=>{var e;if(L>=0&&(null===(e=A[L])||void 0===e?void 0:e.isLocked)===!0){let e=A.findIndex(e=>void 0===e.isLocked||!1===e.isLocked);e>=0&&f(e)}},[A]);let g=async()=>{r&&await i(A)},y=(r,i)=>{if(r<0||r>=E.W4)return;let l=A.map(e=>e.key).indexOf(i.key);if(l>=0&&l!==r&&i.key>=0){j.X.create({title:e.ERROR_KEY_ALREADY_BINDED_TITLE,description:e.ERROR_KEY_ALREADY_BINDED_DESC,type:"error"});return}let n=A.slice();n[r]=i,v(n),null==h||h(!0)};return(0,l.jsxs)(n.s,{direction:"row",width:"1700px",padding:"18px",children:[(0,l.jsx)(t.o,{width:"100%",flex:1,children:(0,l.jsx)(_.A,{interactiveIds:[...Array(19).fill(0).map((e,r)=>r)],onClick:e=>{e>=0&&e<19&&y(L,{...A[L],key:e})}})}),(0,l.jsx)(t.o,{width:"700px",children:(0,l.jsx)(s.Rs,{children:(0,l.jsxs)(a.B,{direction:"column",gap:4,children:[(0,l.jsx)(s.u4,{fontSize:"2rem",color:"green.600",children:e.SETTINGS_HOTKEYS_TITLE}),(0,l.jsx)(s.yR,{fontSize:"smaller",color:"gray.400",children:(0,l.jsx)(o.E,{whiteSpace:"pre-wrap",children:e.SETTINGS_HOTKEYS_HELPER_TEXT})}),(0,l.jsx)(s.CZ,{pt:"30px",children:(0,l.jsxs)(a.B,{gap:4,children:[Array.from({length:E.W4},(e,r)=>{var i,n,t;return(0,l.jsx)(S,{index:r,value:null!==(n=A[r])&&void 0!==n?n:{key:-1,action:E.jx.None},onValueChange:e=>{y(r,e)},isActive:r===L,onFieldClick:e=>f(e),disabled:null!==(t=null===(i=A[r])||void 0===i?void 0:i.isLocked)&&void 0!==t&&t},r)}),(0,l.jsxs)(a.B,{direction:"row",gap:4,justifyContent:"flex-start",padding:"32px 0px",children:[(0,l.jsx)(c.$,{colorPalette:"teal",variant:"surface",size:"lg",width:"140px",onClick:T,children:e.BUTTON_RESET}),(0,l.jsx)(c.$,{colorPalette:"green",size:"lg",width:"140px",onClick:g,children:e.BUTTON_SAVE}),(0,l.jsx)(c.$,{colorPalette:"blue",variant:"surface",size:"lg",width:"180px",onClick:async()=>{await (0,I.X)({title:e.DIALOG_REBOOT_CONFIRM_TITLE,message:e.DIALOG_REBOOT_CONFIRM_MESSAGE})&&(await g(),await x(),(0,p.Dh)({title:e.DIALOG_REBOOT_SUCCESS_TITLE,status:"success",message:e.DIALOG_REBOOT_SUCCESS_MESSAGE}))},children:e.BUTTON_REBOOT_WITH_SAVING})]})]})})]})})})]})}function v(){return(0,l.jsx)(A,{})}}},e=>{var r=r=>e(e.s=r);e.O(0,[852,96,223,358],()=>r(5475)),_N_E=e.O()}]);